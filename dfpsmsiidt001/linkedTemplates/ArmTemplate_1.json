{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "dfpsmsiidt001"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_binary')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "processing"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_csv')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "csv files under processing container",
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileName": {
						"type": "string",
						"defaultValue": "6-RAYAN NATURAL WATER 9097_PSMS II - Inventory Transactions - Data Collection Sheet.csv"
					}
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@dataset().FileName",
							"type": "Expression"
						},
						"fileSystem": "processing"
					},
					"columnDelimiter": "|",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": ""
				},
				"schema": [
					{
						"name": "Transaction Date - تاريخ الحركة ",
						"type": "String"
					},
					{
						"name": "Transaction Type Code - كود نوع الحركة",
						"type": "String"
					},
					{
						"name": "Item Code - كود الصنف",
						"type": "String"
					},
					{
						"name": "Item Barcode - باركود الصنف",
						"type": "String"
					},
					{
						"name": "Your Company CR# - رقم السجل التجارى للشركة",
						"type": "String"
					},
					{
						"name": "Other Entity CR# - رقم السجل التجارى للطرف الاخر",
						"type": "String"
					},
					{
						"name": "Company Store/Inventory Code - رقم المخزن ",
						"type": "String"
					},
					{
						"name": "Quantity - الكمية",
						"type": "String"
					},
					{
						"name": "Selling Price per unit - سعر البيع للوحدة  -",
						"type": "String"
					},
					{
						"name": "Comon Referance No. -  رقم المرجع المشترك",
						"type": "String"
					},
					{
						"name": "Internal Transfer Number/Code - رقم التحويل الداخلي",
						"type": "String"
					},
					{
						"name": "Number of Consumer Invoices - عدد فواتير البيع للمستهلك",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_csv_copy1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "csv files under processing container",
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileName": {
						"type": "string",
						"defaultValue": "6-RAYAN NATURAL WATER 9097_PSMS II - Inventory Transactions - Data Collection Sheet.csv"
					}
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "All Transactions_copy.csv",
							"type": "Expression"
						},
						"fileSystem": "processing"
					},
					"columnDelimiter": "|",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": ""
				},
				"schema": [
					{
						"name": "RationDate",
						"type": "String"
					},
					{
						"name": "Group Code",
						"type": "String"
					},
					{
						"name": "OperationType",
						"type": "String"
					},
					{
						"name": "Supply/Distribution",
						"type": "String"
					},
					{
						"name": "FromAccountCR",
						"type": "String"
					},
					{
						"name": "ToAccountCR",
						"type": "String"
					},
					{
						"name": "Amount",
						"type": "String"
					},
					{
						"name": "CustomDeclarationNo",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_csv_folder')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "csv files under processing container",
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "processing"
					},
					"columnDelimiter": "|",
					"escapeChar": "",
					"firstRowAsHeader": true,
					"quoteChar": ""
				},
				"schema": [
					{
						"name": "Transaction Date - تاريخ الحركة ",
						"type": "String"
					},
					{
						"name": "Transaction Type Code - كود نوع الحركة",
						"type": "String"
					},
					{
						"name": "Item Code - كود الصنف",
						"type": "String"
					},
					{
						"name": "Item Barcode - باركود الصنف",
						"type": "String"
					},
					{
						"name": "Your Company CR# - رقم السجل التجارى للشركة",
						"type": "String"
					},
					{
						"name": "Other Entity CR# - رقم السجل التجارى للطرف الاخر",
						"type": "String"
					},
					{
						"name": "Company Store/Inventory Code - رقم المخزن ",
						"type": "String"
					},
					{
						"name": "Quantity - الكمية",
						"type": "String"
					},
					{
						"name": "Selling Price per unit - سعر البيع للوحدة  -",
						"type": "String"
					},
					{
						"name": "Comon Referance No. -  رقم المرجع المشترك",
						"type": "String"
					},
					{
						"name": "Internal Transfer Number/Code - رقم التحويل الداخلي",
						"type": "String"
					},
					{
						"name": "Number of Consumer Invoices - عدد فواتير البيع للمستهلك",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_csv_folder_copy1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "csv files under processing container",
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "processing"
					},
					"columnDelimiter": "|",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "TRANSACTION_DATE",
						"type": "String"
					},
					{
						"name": "TRANSACTION_TYPE_CODE",
						"type": "String"
					},
					{
						"name": "ITEM_GROUP",
						"type": "String"
					},
					{
						"name": "ITEM_CODE",
						"type": "String"
					},
					{
						"name": "ITEM_BARCODE",
						"type": "String"
					},
					{
						"name": "COMPANY_CR",
						"type": "String"
					},
					{
						"name": "OTHER_ENTITY_CR",
						"type": "String"
					},
					{
						"name": "STORE_CODE",
						"type": "String"
					},
					{
						"name": "TARGET_STORE_CODE",
						"type": "String"
					},
					{
						"name": "QUANTITY",
						"type": "String"
					},
					{
						"name": "UOM",
						"type": "String"
					},
					{
						"name": "SELLING_PRICE",
						"type": "String"
					},
					{
						"name": "LOCAL_PURCHASE_ORDER",
						"type": "String"
					},
					{
						"name": "SALES_ORDER",
						"type": "String"
					},
					{
						"name": "DELIVER_NOTE_NUMBER",
						"type": "String"
					},
					{
						"name": "GOOD_RECEIVED_NOTE",
						"type": "String"
					},
					{
						"name": "INVOICE_NUMBER",
						"type": "String"
					},
					{
						"name": "RETURN_NOTE_NUMBER",
						"type": "String"
					},
					{
						"name": "CUSTOMER_STATEMENT_NUMBER",
						"type": "String"
					},
					{
						"name": "Internal_Transfer_Number_code",
						"type": "String"
					},
					{
						"name": "NUMBER_OF_INVOICES",
						"type": "String"
					},
					{
						"name": "NOTES",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_files')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileName": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@dataset().FileName",
							"type": "Expression"
						},
						"fileSystem": "processing"
					},
					"columnDelimiter": "|",
					"rowDelimiter": "\n",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "Transaction Date - ????? ?????? ",
						"type": "String"
					},
					{
						"name": "Transaction Type Code - ??? ??? ??????",
						"type": "String"
					},
					{
						"name": "Item Group - ???????? ???????",
						"type": "String"
					},
					{
						"name": "Item Code - ??? ?????",
						"type": "String"
					},
					{
						"name": "Item Barcode - ?????? ?????",
						"type": "String"
					},
					{
						"name": "Company CR# - ??? ????? ??????? ??????",
						"type": "String"
					},
					{
						"name": "Other Entity CR# - ??? ????? ??????? ????? ?????",
						"type": "String"
					},
					{
						"name": "Source Store Code - ??? ?????? ??????",
						"type": "String"
					},
					{
						"name": "Target Store Code - ??? ?????? ????????",
						"type": "String"
					},
					{
						"name": "Quantity - ??????",
						"type": "String"
					},
					{
						"name": "UOT - ???? ?????? ",
						"type": "String"
					},
					{
						"name": "Selling Price per unit - ??? ????? ??????  -",
						"type": "String"
					},
					{
						"name": "Local Purchase Order (LPO) No. - ??? ??? ??????",
						"type": "String"
					},
					{
						"name": "Sales Order No. - ??? ??? ?????",
						"type": "String"
					},
					{
						"name": "Delivery Note No. - ??? ????? ???????",
						"type": "String"
					},
					{
						"name": "Goods Received Note (GRN) No. - ??? ????? ????? ??????",
						"type": "String"
					},
					{
						"name": "Invoice No. - ??? ????????",
						"type": "String"
					},
					{
						"name": "Return Note No. - ??? ????? ?????????",
						"type": "String"
					},
					{
						"name": "Customs Statement No. - ??? ???? (???????)",
						"type": "String"
					},
					{
						"name": "Internal Transfer Number/Code - ??? ??????? ???????",
						"type": "String"
					},
					{
						"name": "Number of Consumer Invoices - ??? ?????? ????? ????????",
						"type": "String"
					},
					{
						"name": "Notes or Description -  ????? ?? ???  \r",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_xlsx')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"FileName": {
						"type": "string",
						"defaultValue": "104897.xlsx"
					}
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "@dataset().FileName",
							"type": "Expression"
						},
						"fileSystem": "processing"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Transaction Date - تاريخ الحركة ",
						"type": "String"
					},
					{
						"name": "Transaction Type Code - كود نوع الحركة",
						"type": "String"
					},
					{
						"name": "Item Code - كود الصنف",
						"type": "String"
					},
					{
						"name": "Item Barcode - باركود الصنف",
						"type": "String"
					},
					{
						"name": "Your Company CR# - رقم السجل التجارى للشركة",
						"type": "String"
					},
					{
						"name": "Other Entity CR# - رقم السجل التجارى للطرف الاخر",
						"type": "String"
					},
					{
						"name": "Company Store/Inventory Code - رقم المخزن ",
						"type": "String"
					},
					{
						"name": "Quantity - الكمية",
						"type": "String"
					},
					{
						"name": "Selling Price per unit - سعر البيع للوحدة  -",
						"type": "String"
					},
					{
						"name": "Comon Referance No. -  رقم المرجع المشترك",
						"type": "String"
					},
					{
						"name": "Internal Transfer Number/Code - رقم التحويل الداخلي",
						"type": "String"
					},
					{
						"name": "Number of Consumer Invoices - عدد فواتير البيع للمستهلك",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_processing_xlsx_folder')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "Excel",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "processing"
					},
					"sheetIndex": 0,
					"firstRowAsHeader": true
				},
				"schema": [
					{
						"name": "Transaction Date - تاريخ الحركة ",
						"type": "String"
					},
					{
						"name": "Transaction Type Code - كود نوع الحركة",
						"type": "String"
					},
					{
						"name": "Item Code - كود الصنف",
						"type": "String"
					},
					{
						"name": "Item Barcode - باركود الصنف",
						"type": "String"
					},
					{
						"name": "Your Company CR# - رقم السجل التجارى للشركة",
						"type": "String"
					},
					{
						"name": "Other Entity CR# - رقم السجل التجارى للطرف الاخر",
						"type": "String"
					},
					{
						"name": "Company Store/Inventory Code - رقم المخزن ",
						"type": "String"
					},
					{
						"name": "Quantity - الكمية",
						"type": "String"
					},
					{
						"name": "Selling Price per unit - سعر البيع للوحدة  -",
						"type": "String"
					},
					{
						"name": "Comon Referance No. -  رقم المرجع المشترك",
						"type": "String"
					},
					{
						"name": "Internal Transfer Number/Code - رقم التحويل الداخلي",
						"type": "String"
					},
					{
						"name": "Number of Consumer Invoices - عدد فواتير البيع للمستهلك",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_upload_bin')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "upload"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dls_upload_binary')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "deneme",
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "Binary",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileSystem": "upload"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_custom_xml')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodls",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"fileName": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Storage_DL_QTR"
				},
				"annotations": [],
				"type": "Xml",
				"typeProperties": {
					"location": {
						"type": "AzureBlobFSLocation",
						"fileName": {
							"value": "dene.xml",
							"type": "Expression"
						},
						"fileSystem": "input"
					},
					"nullValue": "null"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_dwh_file_list')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DT_FILE",
						"type": "date"
					},
					{
						"name": "DS_ENTITY_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ENTITY",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DS_FILENAME",
						"type": "nvarchar"
					},
					{
						"name": "ID_ISEXPECTED",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DS_EMAIL",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dwh",
					"table": "DWH_FILE_LIST"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_dwl_file_list')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DT_FILE",
						"type": "date"
					},
					{
						"name": "DS_ENTITY_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ENTITY",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DS_FILENAME",
						"type": "nvarchar"
					},
					{
						"name": "ID_ISEXPECTED",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DS_EMAIL",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dwh",
					"table": "DWL_FILE_LIST"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_stg_file_list')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "DS_FILENAME",
						"type": "nvarchar"
					},
					{
						"name": "ID_ISEXPECTED",
						"type": "int",
						"precision": 10
					},
					{
						"name": "DS_EMAIL",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dwh",
					"table": "STG_FILE_LIST"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_stg_transaction_error_log')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "ID_YEARMONTHDAY",
						"type": "nvarchar"
					},
					{
						"name": "ID_TRANSACTION_TYPE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_GROUP",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_BARCODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ENTITY_CR",
						"type": "nvarchar"
					},
					{
						"name": "ID_CUSTOMER_ENTITY_CR",
						"type": "nvarchar"
					},
					{
						"name": "ID_SOURCE_WAREHOUSE",
						"type": "nvarchar"
					},
					{
						"name": "ID_TARGET_WAREHOUSE",
						"type": "nvarchar"
					},
					{
						"name": "MT_QUANTITY",
						"type": "nvarchar"
					},
					{
						"name": "ID_UOM",
						"type": "nvarchar"
					},
					{
						"name": "MT_DISCOUNT_AMOUNT",
						"type": "nvarchar"
					},
					{
						"name": "ID_LPO",
						"type": "nvarchar"
					},
					{
						"name": "ID_SALES_ORDER",
						"type": "nvarchar"
					},
					{
						"name": "ID_DELIVERY_NOTE",
						"type": "nvarchar"
					},
					{
						"name": "ID_GRN",
						"type": "nvarchar"
					},
					{
						"name": "ID_INVOICE",
						"type": "nvarchar"
					},
					{
						"name": "ID_RETURN_NOTE",
						"type": "nvarchar"
					},
					{
						"name": "ID_CUSTOMS_STATEMENT",
						"type": "nvarchar"
					},
					{
						"name": "ID_REFERANCE_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_TRANSFER_CODE",
						"type": "nvarchar"
					},
					{
						"name": "MT_INVOICE_COUNT",
						"type": "nvarchar"
					},
					{
						"name": "DS_TRANSACTION_REASON",
						"type": "nvarchar"
					},
					{
						"name": "SK_ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "STG_FILENAME",
						"type": "nvarchar"
					},
					{
						"name": "STG_FILETIME",
						"type": "nvarchar"
					},
					{
						"name": "ID_ERROR_CODE",
						"type": "smallint",
						"precision": 5
					},
					{
						"name": "DS_ERROR_CODE",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dwh",
					"table": "stg_transaction_error_log"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_stg_transactions')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "ID_YEARMONTHDAY",
						"type": "nvarchar"
					},
					{
						"name": "ID_TRANSACTION_TYPE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_BARCODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ENTITY_CR",
						"type": "nvarchar"
					},
					{
						"name": "ID_CUSTOMER_ENTITY_CR",
						"type": "nvarchar"
					},
					{
						"name": "ID_COMPANY_STORE_CODE",
						"type": "nvarchar"
					},
					{
						"name": "MT_QUANTITY",
						"type": "nvarchar"
					},
					{
						"name": "MT_DISCOUNT_AMOUNT",
						"type": "nvarchar"
					},
					{
						"name": "ID_COMMON_REF_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_TRANSFER_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_INVOICE_NUMBER",
						"type": "nvarchar"
					},
					{
						"name": "SK_ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "STG_FILENAME",
						"type": "nvarchar"
					},
					{
						"name": "STG_FILETIME",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dwh",
					"table": "STG_TRANSACTIONS"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ds_stg_transactions_copy1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "RationDate",
						"type": "nvarchar"
					},
					{
						"name": "Group Code",
						"type": "nvarchar"
					},
					{
						"name": "OperationType",
						"type": "nvarchar"
					},
					{
						"name": "Supply/Distribution",
						"type": "nvarchar"
					},
					{
						"name": "FromAccountCR",
						"type": "nvarchar"
					},
					{
						"name": "ToAccountCR",
						"type": "nvarchar"
					},
					{
						"name": "Amount",
						"type": "nvarchar"
					},
					{
						"name": "CustomDeclarationNo",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "dwh",
					"table": "ALL_TRANSACTIONS"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/dsqlp_parametric')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntodsqlp",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"schemaName": {
						"type": "string",
						"defaultValue": "dwh"
					},
					"tableName": {
						"type": "string",
						"defaultValue": "dwb_transactions"
					}
				},
				"folder": {
					"name": "Dedicated_SQL"
				},
				"annotations": [],
				"type": "AzureSqlDWTable",
				"schema": [
					{
						"name": "ID_YEARMONTHDAY",
						"type": "nvarchar"
					},
					{
						"name": "ID_TRANSACTION_TYPE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ITEM_BARCODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_ENTITY_CR",
						"type": "nvarchar"
					},
					{
						"name": "ID_CUSTOMER_ENTITY_CR",
						"type": "nvarchar"
					},
					{
						"name": "ID_COMPANY_STORE_CODE",
						"type": "nvarchar"
					},
					{
						"name": "MT_QUANTITY",
						"type": "nvarchar"
					},
					{
						"name": "MT_DISCOUNT_AMOUNT",
						"type": "nvarchar"
					},
					{
						"name": "ID_COMMON_REF_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_TRANSFER_CODE",
						"type": "nvarchar"
					},
					{
						"name": "ID_INVOICE_NUMBER",
						"type": "nvarchar"
					},
					{
						"name": "SK_ID",
						"type": "int",
						"precision": 10
					},
					{
						"name": "STG_FILENAME",
						"type": "nvarchar"
					},
					{
						"name": "STG_FILETIME",
						"type": "nvarchar"
					},
					{
						"name": "ID_STARTDATE",
						"type": "int",
						"precision": 10
					},
					{
						"name": "ID_ENDDATE",
						"type": "int",
						"precision": 10
					},
					{
						"name": "ID_ISCURRENT",
						"type": "int",
						"precision": 10
					}
				],
				"typeProperties": {
					"schema": {
						"value": "@dataset().schemaName",
						"type": "Expression"
					},
					"table": {
						"value": "@dataset().tableName",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/qtrsqldb')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntoobasesql",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"tableName": {
						"type": "string",
						"defaultValue": "Products"
					},
					"schemaName": {
						"type": "string",
						"defaultValue": "dbo"
					}
				},
				"folder": {
					"name": "Qtr_SQLdb"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [],
				"typeProperties": {
					"schema": {
						"value": "@dataset().schemaName",
						"type": "Expression"
					},
					"table": {
						"value": "@dataset().tableName",
						"type": "Expression"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/sqldb_psmsii_dt_westeu_001')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "ls_psmsii_syntosql",
					"type": "LinkedServiceReference"
				},
				"annotations": [],
				"type": "SqlServerTable",
				"schema": [],
				"typeProperties": {}
			},
			"dependsOn": []
		}
	]
}